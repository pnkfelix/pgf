% Copyright 2006 by Till Tantau
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/generic/pgf/licenses/LICENSE for more details.

\ProvidesFileRCS[v\pgfversion] $Header: /cvsroot/pgf/pgf/generic/pgf/frontendlayer/tikz/libraries/Attic/tikzlibraryarrows.double.code.tex,v 1.1 2008/04/21 16:36:23 tantau Exp $


%
% The following arrows all assume that the main line is a double line
% with 4/7th of the line widdth dedicated to the center line (which
% usually has the background color) and 2/7th of the main line
% dedicated to each of the "real" lines. 
% 2/7th = 0.285714


% An arrow similar to the $\to$ arrow on a double line
%
% Example:
%
% \pgfsetarrow{-to on double}

\pgfarrowsdeclare{to on double line}{to on double line}
{
  \pgflinewidth=0.285714\pgflinewidth%
  \pgfutil@tempdima=-0.92pt%
  \advance\pgfutil@tempdima by-.2\pgflinewidth%
  \pgfutil@tempdimb=0.14pt%
  \advance\pgfutil@tempdimb by1.725\pgflinewidth%
  \pgfarrowsleftextend{+\pgfutil@tempdima}
  \pgfarrowsrightextend{+\pgfutil@tempdimb}
}
{
  \pgflinewidth=0.285714\pgflinewidth%
  \pgfutil@tempdimb=-.35pt%
  \advance\pgfutil@tempdimb by.8\pgflinewidth%
  \pgftransformxshift{\pgfutil@tempdimb}%
  \pgfutil@tempdima=0.28pt%
  \advance\pgfutil@tempdima by.3\pgflinewidth%
  \pgfsetlinewidth{0.8\pgflinewidth}
  \pgfsetdash{}{+0pt}
  \pgfsetroundcap
  \pgfsetroundjoin
  \pgfpathmoveto{\pgfqpoint{-2\pgfutil@tempdima}{4\pgfutil@tempdima}}
  \pgfpathcurveto
  {\pgfqpoint{-1.75\pgfutil@tempdima}{2.5\pgfutil@tempdima}}
  {\pgfqpoint{1\pgfutil@tempdima}{0.25\pgfutil@tempdima}}
  {\pgfqpoint{1.75\pgfutil@tempdima}{0pt}}
  \pgfpathcurveto
  {\pgfqpoint{1\pgfutil@tempdima}{-0.25\pgfutil@tempdima}}
  {\pgfqpoint{-1.75\pgfutil@tempdima}{-2.5\pgfutil@tempdima}}
  {\pgfqpoint{-2\pgfutil@tempdima}{-4\pgfutil@tempdima}}
  \pgfusepathqstroke
}

% Open combination of two such arrows

\pgfarrowsdeclarecombine*{double to on double line}{double to on double line}{to on double line}{to on double line}{to on double line}{to on double line}




% The arrow tip of an \implies arrow for different sizes
%
% Example:
%
% \pgfsetarrow{-implies 10pt}

\def\pgf@spawn@one#1{%
\pgfarrowsdeclare{implies #1}{implies #1}
{
  \pgfmathsetlength{\pgfutil@tempdimb}{\pgflinewidth-.1935252*#1}%
  \divide\pgfutil@tempdimb by 2\relax%
  \pgfarrowsrightextend{.20*#1+\pgfutil@tempdimb}
  \pgfarrowsleftextend{.13*#1+\pgfutil@tempdimb}
}
{
  \pgfmathsetlength{\pgfutil@tempdimb}{\pgflinewidth-.1935252*#1}%
  \pgfsetlinewidth{\pgfutil@tempdimb}
  \pgfsetdash{}{+0pt}
  \pgfsetroundcap
  \pgfsetroundjoin
  \pgfpathmoveto{\pgfpoint{-.13*#1}{.265*#1}}
  \pgfpathcurveto
  {\pgfpoint{-.075*#1}{.125*#1}}
  {\pgfpoint{.1*#1}{.005*#1}}
  {\pgfpoint{.2*#1}{0pt}}
  \pgfpathcurveto
  {\pgfpoint{.1*#1}{-0.005*#1}}
  {\pgfpoint{-.075*#1}{-.125*#1}}
  {\pgfpoint{-.13*#1}{-.265*#1}}
  \pgfusepathqstroke
}
}
\def\pgf@spawn@many{
  \pgf@spawn@one{5pt}
  \pgf@spawn@one{6pt}
  \pgf@spawn@one{7pt}
  \pgf@spawn@one{8pt}
  \pgf@spawn@one{9pt}
  \pgf@spawn@one{10pt}
  \pgf@spawn@one{11pt}
  \pgf@spawn@one{12pt}
  \pgf@spawn@one{14pt}
  \pgf@spawn@one{17pt}
  \pgf@spawn@one{20pt}
  \pgf@spawn@one{24pt}
}
\pgf@spawn@many


\tikzset{
  > on double line/.store in=\tikz@lib@ondouble,
  > on double line=implies,
  double fontsize/.store in=\tikz@lib@double@base@distance,
  double fontsize=10pt,
  every double/.style={>=\tikz@lib@ondouble\space\tikz@lib@double@base@distance},
  line width/.append code={\pgfkeysalso{/tikz/double
      distance={\tikz@lib@double@base@distance*.1935252-\pgflinewidth}}
  },
  thin
}


\endinput
