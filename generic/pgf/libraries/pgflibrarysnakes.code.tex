\ProvidesPackageRCS[v\pgfversion] $Header: /cvsroot/pgf/pgf/generic/pgf/libraries/pgflibrarysnakes.code.tex,v 1.1 2005/09/05 21:46:56 tantau Exp $

% Copyright 2005 by Till Tantau <tantau@cs.tu-berlin.de>.
%
% This program can be redistributed and/or modified under the terms
% of the GNU Public License, version 2.


\newdimen\pgfsnakewaveamplitude
\newdimen\pgfsnakewavelength
\pgfsnakewavelength=10pt
\pgfsnakewaveamplitude=2.5pt


% zigzag snake
%
% Parameters: \pgfsnakewaveamplitude, \pgfsnakewavelength

\pgfdeclaresnake{zigzag}{up}
{
  \state{up}[switch if less than=.5\pgfsnakewavelength to end up,%
             width=.5\pgfsnakewavelength,%
             next state=down]
  {
    \pgfpathlineto{\pgfpoint{.25\pgfsnakewavelength}{\pgfsnakewaveamplitude}}
    \pgfpathlineto{\pgfpoint{.5\pgfsnakewavelength}{0pt}}
  }
  \state{down}[switch if less than=.5\pgfsnakewavelength to end down,%
               width=.5\pgfsnakewavelength,%
               next state=up]
  {
    \pgfpathlineto{\pgfpoint{.25\pgfsnakewavelength}{-\pgfsnakewaveamplitude}}
    \pgfpathlineto{\pgfpoint{.5\pgfsnakewavelength}{0pt}}
  }
  \state{end up}[width=\pgfsnakeremainingdistance,
                 next state=final]
  {
    \pgfpathlineto{\pgfpoint{.5\pgfsnakeremainingdistance}{.5\pgfsnakeremainingdistance}}
    \pgfpathlineto{\pgfpoint{\pgfsnakeremainingdistance}{0pt}}
  }
  \state{end down}[width=\pgfsnakeremainingdistance,
                   next state=final]
  {
    \pgfpathlineto{\pgfpoint{.5\pgfsnakeremainingdistance}{-.5\pgfsnakeremainingdistance}}
    \pgfpathlineto{\pgfpoint{\pgfsnakeremainingdistance}{0pt}}
  }
  \state{final}{}
}



% saw snake
%
% Parameters: \pgfsnakewaveamplitude, \pgfsnakewavelength

\pgfdeclaresnake{saw}{initial}
{
  \state{initial}[width=.5\pgfsnakewavelength]
  {
    \pgfpathlineto{\pgfpoint{.5\pgfsnakewavelength}{2\pgfsnakewaveamplitude}}
    \pgfpathlineto{\pgfpoint{.5\pgfsnakewavelength}{0pt}}
  }
  \state{final}
  {
    \pgfpathlineto{\pgfpoint{\pgfsnakeremainingdistance}{0pt}}
  }
}



% bumps snake
%
% Parameters: \pgfsnakewaveamplitude, \pgfsnakewavelength

\pgfdeclaresnake{bumps}{initial}
{
  \state{initial}[width=.5\pgfsnakewavelength]
  {
    \pgfpathcurveto
    {\pgfpoint{0pt}{.555\pgfsnakewaveamplitude}}
    {\pgfpoint{0.11125\pgfsnakewavelength}{\pgfsnakewaveamplitude}}
    {\pgfpoint{.25\pgfsnakewavelength}{\pgfsnakewaveamplitude}}
    \pgfpathcurveto
    {\pgfpoint{.38875\pgfsnakewavelength}{\pgfsnakewaveamplitude}}
    {\pgfpoint{.5\pgfsnakewavelength}{.5\pgfsnakewaveamplitude}}
    {\pgfpoint{.5\pgfsnakewavelength}{0\pgfsnakewaveamplitude}}
  }
  \state{final}
  {
    \pgfpathlineto{\pgfpoint{\pgfsnakeremainingdistance}{0pt}}
  }
}



% sound waves snake
%
% Parameters: \pgfsnakewaveangle, \pgfsnakewavelength

\pgfdeclaresnake{sound waves}{initial}
{
  \state{initial}[width=.5\pgfsnakewavelength,next state=wave]
  {}

  \state{wave}[width=.5\pgfsnakewavelength]
  {
    \pgfpathmoveto{
      \pgfpointadd
      {\pgfpoint{-\pgfsnakecompleteddistance}{0pt}}%
      {\pgfpointpolar{\pgfsnakewavesangle}{\pgfsnakecompleteddistance}}}%
    \pgfpatharc{\pgfsnakewavesangle}{-\pgfsnakewavesangle}{\pgfsnakecompleteddistance}%
  }
  \state{final}
  {
    \pgfpathmoveto{\pgfpoint{\pgfsnakeremainingdistance}{0pt}}
  }
}

\def\pgfsnakewavesangle{45}

     

% triangle snakes
%
% Parameters: \pgfsnakeobjectdistance, \pgfsnakeobjectsize

\pgfdeclaresnake{triangle 45}{triangle}
{
  \state{triangle}[width=\pgfsnakeobjectdistance]
  {
    \setlength\pgf@xc{\pgfsnakeobjectsize}
    \pgfpathmoveto{\pgfpoint{0pt}{.5\pgf@xc}}
    \pgfpathlineto{\pgfpoint{1.20710678\pgf@xc}{0pt}}
    \pgfpathlineto{\pgfpoint{0pt}{-.5\pgf@xc}}
    \pgfpathclose
  }
  \state{final}
  {
    \pgfpathmoveto{\pgfpoint{\pgfsnakeremainingdistance}{0pt}}
  }
}

\pgfdeclaresnake{triangle 60}{triangle}
{
  \state{triangle}[width=\pgfsnakeobjectdistance]
  {
    \setlength\pgf@xc{\pgfsnakeobjectsize}
    \pgfpathmoveto{\pgfpoint{0pt}{.5\pgf@xc}}
    \pgfpathlineto{\pgfpoint{0.70710678\pgf@xc}{0pt}}
    \pgfpathlineto{\pgfpoint{0pt}{-.5\pgf@xc}}
    \pgfpathclose
  }
  \state{final}
  {
    \pgfpathmoveto{\pgfpoint{\pgfsnakeremainingdistance}{0pt}}
  }
}

\pgfdeclaresnake{triangle 90}{triangle}
{
  \state{triangle}[width=\pgfsnakeobjectdistance]
  {
    \setlength\pgf@xc{\pgfsnakeobjectsize}
    \pgfpathmoveto{\pgfpoint{0pt}{.5\pgf@xc}}
    \pgfpathlineto{\pgfpoint{0.5\pgf@xc}{0pt}}
    \pgfpathlineto{\pgfpoint{0pt}{-.5\pgf@xc}}
    \pgfpathclose
  }
  \state{final}
  {
    \pgfpathmoveto{\pgfpoint{\pgfsnakeremainingdistance}{0pt}}
  }
}

\def\pgfsnakeobjectdistance{10pt}
\def\pgfsnakeobjectsize{5pt}

                                      
\endinput
