\ProvidesPackageRCS[v\pgfversion] $Header: /cvsroot/pgf/pgf/generic/pgf/libraries/Attic/pgflibrarytikzmindmap.code.tex,v 1.1 2006/04/24 20:10:33 tantau Exp $

% Copyright 2005 by Till Tantau <tantau@cs.tu-berlin.de>.
%
% This program can be redistributed and/or modified under the terms
% of the GNU Public License, version 2.




% A snake for connecting circle nodes
%
% Parameters: \pgfsnakecirclestartradius, \pgfsnakecircleendradius, \pgflinewidth

\pgfdeclaresnake{circle connection bar}{initial}
{
  \state{initial}[width=0pt,next state=bar]
  {
    {
    \pgftransformxshift{-1pt}%
    \pgftransformxshift{-\pgfsnakecirclestartradius}%
    \pgfpathmoveto{\pgfpointpolar{\pgfsnakesegmentangle}{\pgfsnakecirclestartradius}}
    \pgfpatharc{\pgfsnakesegmentangle}{-\pgfsnakesegmentangle}{\pgfsnakecirclestartradius}
    \@tempcnta=-\pgfsnakesegmentangle\relax
    \advance\@tempcnta by90\relax
    \@tempdima=\pgfsnakecirclestartradius\relax
    \pgfpathcurveto
    {\pgfpointadd
      {\pgfpointpolar{-\pgfsnakesegmentangle}{\pgfsnakecirclestartradius}}
      {\pgfpointpolar{\the\@tempcnta}{.25\@tempdima}}}
    {\pgfpoint{1.25\@tempdima}{-.5\pgflinewidth}}
    {\pgfpoint{1.5\@tempdima}{-.5\pgflinewidth}}
    \pgfpathlineto{\pgfpoint{1.5\@tempdima}{.5\pgflinewidth}}
    \@tempcnta=\pgfsnakesegmentangle\relax
    \advance\@tempcnta by-90\relax
    \pgfpathcurveto
    {\pgfpoint{1.25\@tempdima}{.5\pgflinewidth}}
    {\pgfpointadd
      {\pgfpointpolar{\pgfsnakesegmentangle}{\pgfsnakecirclestartradius}}
      {\pgfpointpolar{\the\@tempcnta}{.25\@tempdima}}}
    {\pgfpointpolar{\pgfsnakesegmentangle}{\pgfsnakecirclestartradius}}
    \pgfpathclose
    }
  }
  \state{bar}[width=0pt,next state=end]
  {
    \@tempdima=\pgfsnakecirclestartradius\relax
    \@tempdimb=\pgfsnakecircleendradius\relax
    \pgfpathrectangle
    {\pgfpoint{.5\@tempdima-1pt}{-.5\pgflinewidth}}
    {\pgfpoint{\pgfsnakeremainingdistance-.5\@tempdimb-.5\@tempdima+2pt}{\pgflinewidth}}
  }
  \state{end}[width=0pt,next state=final]
  {
    {
    \pgftransformxshift{\pgfsnakeremainingdistance}%
    \pgftransformxshift{1pt}%
    \pgftransformxscale{-1}%
    \pgftransformxshift{-\pgfsnakecircleendradius}%
    \pgfpathmoveto{\pgfpointpolar{\pgfsnakesegmentangle}{\pgfsnakecircleendradius}}
    \pgfpatharc{\pgfsnakesegmentangle}{-\pgfsnakesegmentangle}{\pgfsnakecircleendradius}
    \@tempcnta=-\pgfsnakesegmentangle\relax
    \advance\@tempcnta by90\relax
    \@tempdima=\pgfsnakecircleendradius\relax
    \pgfpathcurveto
    {\pgfpointadd
      {\pgfpointpolar{-\pgfsnakesegmentangle}{\pgfsnakecircleendradius}}
      {\pgfpointpolar{\the\@tempcnta}{.25\@tempdima}}}
    {\pgfpoint{1.25\@tempdima}{-.5\pgflinewidth}}
    {\pgfpoint{1.5\@tempdima}{-.5\pgflinewidth}}
    \pgfpathlineto{\pgfpoint{1.5\@tempdima}{.5\pgflinewidth}}
    \@tempcnta=\pgfsnakesegmentangle\relax
    \advance\@tempcnta by-90\relax
    \pgfpathcurveto
    {\pgfpoint{1.25\@tempdima}{.5\pgflinewidth}}
    {\pgfpointadd
      {\pgfpointpolar{\pgfsnakesegmentangle}{\pgfsnakecircleendradius}}
      {\pgfpointpolar{\the\@tempcnta}{.25\@tempdima}}}
    {\pgfpointpolar{\pgfsnakesegmentangle}{\pgfsnakecircleendradius}}
    \pgfpathclose
    }
  }
  \state{final}
  {}
}


\def\pgfsnakesegmentangle{20}

\pgfdeclarehorizontalshading[current]{bar}{100bp}{%
  color(0pt)=(neutral.bg);
  color(30bp)=(neutral.bg);
  color(70bp)=(current);
  color(100bp)=(current)}

\definecolor{neutral.bg}{rgb}{0.7,0.7,0.71}
\colorlet{neutral.fg}{black}
\colorlet{theory.bg}{orange!70}
\colorlet{theory.fg}{orange!50!black}
\colorlet{practical.bg}{red!50}
\colorlet{practical.fg}{red}
\colorlet{technical.bg}{blue!50}
\colorlet{technical.fg}{blue}
\colorlet{applied.bg}{green!50}
\colorlet{applied.fg}{green!50!black}

\newcommand\externalnode[3]{
  \node[text=black,fill=neutral.bg,scale=1.5] (#1) at (#2) {\textsc{#3}};
}


\newcommand\satellite[3]{
  \node[text=#1.fg,fill=#1.bg,scale=2,outer sep=-1pt] (#1) at (#2:21cm) {\textsc{#3}};

  \def\pgfsnakecirclestartradius{7cm}
  \def\pgfsnakecircleendradius{3.5cm}
  \colorlet{current}{#1.bg}
  \shade [shading=bar,shading angle=#2,line width=12mm,snake=circle connection bar] (informatics) -- (#1);
}


\newcommand\subsatellite[4]{
  \begin{scope}[shift=(#1.center)]
    \node[text=black,fill=#1.bg,scale=1.5] (#2) at (#3:8.5cm) {#4};

    \def\pgfsnakecirclestartradius{3.5cm}
    \def\pgfsnakecircleendradius{2.625cm}

    \fill [fill=#1.bg,line width=8mm,snake=circle connection bar] (#1) -- (#2);
  \end{scope}
}


\newcommand\subsubsatellite[5]{
  \begin{scope}[shift=(#2.center)]
    \node[text=black,fill=#1.bg] (#3) at (#4:7cm) {#5};

    \def\pgfsnakecirclestartradius{2.625cm}
    \def\pgfsnakecircleendradius{1.75cm}

    \fill [fill=#1.bg,line width=4mm,snake=circle connection bar] (#2) -- (#3);
  \end{scope}
}
  

\newcommand\subsubsubsatellite[5]{
  \begin{scope}[shift=(#2.center)]
    \node[text=black,fill=#1.bg,scale=.7] (#3) at (#4:5cm) {\Large #5};

    \def\pgfsnakecirclestartradius{1.75cm}
    \def\pgfsnakecircleendradius{1.225cm}

    \fill [fill=#1.bg,line width=2mm,snake=circle connection bar] (#2) -- (#3);
  \end{scope}
}



\newcommand\lecture[7]{
  \node (lecture-#3)
  [%
    #1,
    shape=rectangle,
    minimum size=0pt,
    text width=3.7cm,
    outer sep=2mm,
    inner sep=1mm,
    text badly ragged,
    fill=blue!50,
    fill opacity=0.4,
    text opacity=1,
    rounded corners
  ] at (#2) 
  {%
    \scalebox{.5}{\hbox to 7.2cm{\textcolor{blue}{\strut{A#3\kern1ex}#4}\hfil}}%
    \tikz[rounded corners=0pt]{
      \useasboundingbox (0,0);
      \node [xshift=3pt,shape=rectangle,text width=,minimum size=0pt,outer sep=0mm,inner sep=0pt,above left] at (0,0) {%
       \href{file:/Users/tantau/Documents/lectures/#6/lectures/#7-vl/beamer_version.pdf}{%
      \tikz[scale=.75,rounded corners=0pt]
      {
        \fill[black!20]  (0pt,0pt) rectangle (6pt,6pt);
        \fill[blue!50]   (6pt,0pt) rectangle (8pt,6pt);
        \draw[black!75]  (0pt,0pt) rectangle (8pt,6pt);
      }}%
      };
      \node [xshift=3pt,yshift=-2pt,shape=rectangle,text width=,minimum size=0pt,outer sep=0mm,inner sep=0pt,below left] at (0,0) {%
    \href{file:/Users/tantau/Documents/lectures/#6/lectures/#7-vl/article_version.pdf}{%
      \tikz[scale=.6666,rounded corners=0pt]
      {
        \filldraw[fill=yellow!60!black!30,draw=black!75]
                         (0pt,0pt)  -- (0pt,8pt) -- (4pt,8pt) --
                         (6pt,6pt)  -- (6pt,0pt) -- cycle;
        \draw[black!75]  (4pt,8pt)  |- (6pt,6pt);
      }%
    }};}\par
    \small
    \def\item{\par\leavevmode \llap{\textcolor{blue}{\textbullet}\kern1ex}}
    \leavevmode\kern2mm%
    \scalebox{.5}{%
      \begin{minipage}[t]{7cm}
        \kern-2em
        \raggedright
        #5\par
      \end{minipage}}
  };
}



\endinput