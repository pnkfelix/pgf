\ProvidesFileRCS $Header: /cvsroot/pgf/pgf/generic/pgf/systemlayer/pgfsys-tex4ht.def,v 1.2 2005/07/09 19:27:03 tantau Exp $

% Copyright 2005 by Till Tantau <tantau@cs.tu-berlin.de>.
%
% This program can be redistributed and/or modified under the terms
% of the GNU Public License, version 2.




% Driver commands for tex4ht

%
% Load common pdf commands:
%
\input pgfsys-common-svg.def

%
% pdftex-specific stuff:
%
\def\pgfsys@invoke#1{\HCode{#1}}

\newcount\pgf@sys@svg@picnum

\def\pgfsys@beginpicture{%
  \global\advance\pgf@sys@svg@picnum by 1\relax%
  \HCode{<object data="\jobname-\the\pgf@sys@svg@picnum.svg" width="100" height="100"
  type="image/svg+xml"> <p> SVG not supported</p> </object>}
  \special{t4ht>\jobname-\the\pgf@sys@svg@picnum.svg}
  \pgfsys@invoke{
<svg width="100pt" height="100pt" viewBox="0 0 100 100">
  <g transform="translate(0,100) scale(1,-1)"
  style="stroke:none;fill:none">}
  \edef\pgf@sys@svg@savedpicnum{\the\pgf@sys@svg@picnum}%
  \pgfsys@beginscope%
}
\def\pgfsys@endpicture{
  \pgfsys@endscope%
  \pgfsys@invoke{</g></svg>}
  \special{t4ht<\jobname-\pgf@sys@svg@savedpicnum.svg}
}

\def\pgfsys@beginhbox{\HCode{<text style="fill:black" transform="scale(1,-1)">}}
\def\pgfsys@endhbox{\HCode{</text>}}

\endinput


%%% Local Variables: 
%%% mode: latex
%%% End: 
