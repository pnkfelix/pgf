% Copyright 2007 by Mark Wibrow
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Free Documentation License.
%
% See the file doc/generic/pgf/licenses/LICENSE for more details.
%

\begin{shape}{polygon}

	This shape is a polygon, which, by default, is drawn so that a side
	(rather than a corner) is always at the bottom. 

\begin{codeexample}[]
\begin{tikzpicture}
   \foreach \i in {5,...,8}
    	\node[polygon, polygon sides=\i, draw] at (\i,0)  {\i};
\end{tikzpicture}
\end{codeexample}
	
	Two points should be remembered regarding the dimensions of the
	polygon border.
	Firstly,	the border is constructed using the incircle, that is, the
	circle that touches every side of the polygon border. The radius of
	the incircle is calculated to tightly fit the node contents.

\begin{codeexample}[]
\begin{tikzpicture}
  \foreach \a in {3,...,7}{
    \draw[gray!50] (\a*2,0)  circle(0.5cm);
    \node[polygon, polygon sides=\a, inner sep=0cm, draw] at (\a*2,0)
      {\tikz\fill[red!50] rectangle(0.707cm,0.707cm);};
   }  
\end{tikzpicture}
\end{codeexample}	
	
	Secondly, if the node is enlarged to any specified minimum size, 
	width or height, this is interpreted as the diameter of the the 
	circumcircle, that is, the circle that	passes through all the 
	corners of the polygon border.

\begin{codeexample}[]
\begin{tikzpicture}
  \foreach \a in {3,...,7}{
    \draw[gray!50] (\a*2,0)  circle(0.5cm);
    \node[polygon, polygon sides=\a, minimum size=1cm, draw] at (\a*2,0) {};
   }  
\end{tikzpicture}
\end{codeexample}	

	There are \pgfname{} commands and \tikzname{} options to set the 
	number of sides for the polygon, and the rotation of the polygon 
	border. The \pgfname{} commands are as follows:
	
	\begin{command}{\pgfsetpolygonsides\marg{integer}}
		Set the number of sides for the polygon.
	\end{command}
	
	\begin{command}{\pgfsetpolygonrotate\marg{angle}}
		Rotate the border of the polygon independently of the node
		contents (but in addition to any concurrent coordinate or canvas
		transformation).
	\end{command}
	
	The corresponding \tikzname{} options are:

	\begin{itemize}
   	\itemoption{polygon sides}|=|\meta{integer}
    	set the number of points for the star.
    
		\itemoption{polygon rotate}|=|\meta{angle}
		rotate the border of the polygon independently of the node
		contents.
		     
	\end{itemize}
	
   The anchors for the polygon shape are shown below:
   
\begin{codeexample}[]
\Huge
\begin{tikzpicture}
  \node[name=s, shape=polygon, polygon sides=5, style=shape example, inner sep=1.5cm] 
    {Polygon\vrule width 1pt height 2cm};
  \foreach \anchor/\placement in
    {corner 1/above, corner 2/above, corner 3/left, corner 4/right, 
     corner 5/above, side 1/left,    side 2/left,   side 3/below,
     side 4/right,   side 5/right,   mid/right,     base/below, 
     center/above,   text/left,      75/above,      west/above, 
     east/above,     north/below,    south/above}
  \draw[shift=(s.\anchor)] plot[mark=x] coordinates{(0,0)}
    node[\placement] {\scriptsize\texttt{(s.\anchor)}};
\end{tikzpicture}
\end{codeexample}

	
\end{shape}

\newpage
\begin{shape}{star}
	This shape is a star, which by default (minus any transformations) is
	drawn with the first point pointing	upwards.
	A star should be thought of as having an set of ``inner points'' and
	and ``outer points''. These points form the principle anchors for the
	star, as shown below:	
	
\begin{codeexample}[]
\Huge
\begin{tikzpicture}
  \node[name=s, shape=star, star points=5, star point ratio=1.5, style=shape example, inner sep=1.5cm] 
    {Star\vrule width 1pt height 2cm};
  \foreach \anchor/\placement in
     {inner point 1/above, inner point 2/above, inner point 3/below, 
      inner point 4/right, inner point 5/above, outer point 1/above, 
      outer point 2/above, outer point 3/left,  outer point 4/right, 
      outer point 5/above, mid/right,           base/below, 
      center/above,        text/left,           75/above}
  \draw[shift=(s.\anchor)] plot[mark=x] coordinates{(0,0)}
    node[\placement] {\scriptsize\texttt{(s.\anchor)}};
\end{tikzpicture}
\end{codeexample}

	The inner points of the border are based on the radius of the circle
	which tightly fits the node contents. 
	Any specified minimum size, width or height, is interpreted as the 
	diameter of the circle that passes through every outer point. 
	
	There are \pgfname{} commands and \tikzname{} options to set various
	parameters for the star, such as the number of points, the height of
	the points and the rotation of the star border. 
	
	The \pgfname{}	commands are as follows:

	\begin{command}{\pgfsetstarpoints\marg{integer}}
		Sets the number of points for the star.
	\end{command}
	
	\begin{command}{\pgfsetstarpointheight\marg{distance}}
		Sets the height of the star points. This is the distance between the
		inner point and outer point radii. If the star is enlarged to some
		specified minimum size, the inner radius is increased to maintain
		the point height.	
	\end{command}

	\begin{command}{\pgfsetstarpointratio\marg{number}}
		Sets the ratio between the outer point and inner point radii.		
		If the star is enlarged to some specified minimum size, the
		inner radius is increased to maintain the ratio.	
	\end{command}
	
	\begin{command}{\pgfsetstarrotate\marg{angle}}
		Rotates the border of the star, independently of the node contents,
		but subject to any coordinate or canvas transformations.	
	\end{command}
	
	The corresponding \tikzname{} options are:

	\begin{itemize}
   	\itemoption{star points}|=|\meta{integer}
    	set the number of points for the star.
    
   	\itemoption{star point height}|=|\meta{distance}
   	set the height of the points for the star.
    
    	\itemoption{star point ratio}|=|\meta{number}
    	set the ratio between the outer point radius and the inner point
   	radius.
    
    	\itemoption{star rotate}|=|\meta{angle}
    	rotate the star shape border indepently of the node contents.
     
	\end{itemize}
\end{shape}