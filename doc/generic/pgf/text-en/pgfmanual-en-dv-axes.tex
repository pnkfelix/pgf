% Copyright 2010 by Till Tantau
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Free Documentation License.
%
% See the file doc/generic/pgf/licenses/LICENSE for more details.


\section{Axes}
\label{section-dv-axes}

\subsection{Overview}

To be written...


\subsection{Concepts}

\subsection{Usage}



\subsection{Reference: Standard Axis Systems}

\begin{key}{/tikz/data visualization/scientific axes}
  This key installs a two-dimensional coordinate system based on the
  attributes |/data point/x| and |/data point/y|.
      
\begin{codeexample}[]
\begin{tikzpicture}
  \datavisualization [scientific axes, visualize as smooth line] 
    data [format=function] {
      var x : interval [0:100] samples 100;
      func y = sqrt(\value x);
    };
\end{tikzpicture}
\end{codeexample}

  This axis system is usually a good choice to depict ``arbitrary two
  dimensional data.'' Because the axes are automatically scaled, you
  do not need to worry about how large or small the values will
  be. The name |scientific axes| is intended to indicate that this
  axis system is often used in scientific publications.

  Note, however, that this axis system will always distort the
  relative magnitudes of the units on the two axis. If you wish the
  units on both axes to be equal, consider directly specifying the
  unit length ``by hand'':

\begin{codeexample}[]
\begin{tikzpicture}
  \datavisualization [visualize as smooth line,
                      scientific axes,
                      all axes={unit length=1cm per 10 units,
                                ticks={few}}] 
    data [format=function] {
      var x : interval [0:100] samples 100;
      func y = sqrt(\value x);
    };
\end{tikzpicture}
\end{codeexample}

  The |scientific axes| have the following properties:
  \begin{itemize}
  \item The |x|-values are surveyed and the $x$-axis is then scaled
    and shifted so  that it has the length specified by the following key.
    \begin{key}{/tikz/data visualization/scientific
        axes/width=\meta{dimension} (initially 5cm)} 
    \end{key}
    The minimum value is at the left end of the axis and at the canvas
    origin. The maximum value is at the right end of the axis.
  \item The |y|-values are surveyd and the $y$-axis is then scaled so
    that is has the length specified by the following key.
    \begin{key}{/tikz/data visualization/scientific
        axes/height=\meta{dimension}} 
      By default, the |height| is the golden ratio times the |width|.
    \end{key}
    The minimum value is at the bottom of the axis and at the canvas
    origin. The maximum value is at the top of the axis.
  \item Lines (forming a frame) are depicted at the minimum and
    maximum values of the axes in 50\% black.
  \item Ticks are drawn `` on the outside'' of the frame so that they
    interfere as little as possible with the data.
  \item Tick labels and axis labels (if present) are drawn left and
    below. 
  \end{itemize}
\end{key}

\begin{key}{/tikz/data visualization/scientific inner axes}
  This axis system works like |scientic axes|, only the ticks are on
  the ``inside'' of the frame. 
      
\begin{codeexample}[]
\begin{tikzpicture}
  \datavisualization [scientific inner axes, visualize as smooth line] 
    data [format=function] {
      var x : interval [-12:12];
      func y = \value x*\value x*\value x;
    };
\end{tikzpicture}
\end{codeexample}

  This axis system is also common in publications, but the ticks tend
  to interfere with marks if they are near to the border as can be
  seen in the following example:
\begin{codeexample}[]
\begin{tikzpicture}
  \datavisualization [
    scientific inner axes,
    scientific axes/width=3.2cm,
    visualize as scatter/.list={a,b}] 
    data [a] {
      x, y
      0, 0
      1, 1
      0.5, 0.5
      2, 1
    }
    data [b] {
      x, y
      0.05, 0
      1.5, 1
      0.5, 0.75
      2, 0.5
    };
\end{tikzpicture}
\end{codeexample}

\end{key}

\begin{key}{/tikz/data visualization/scientific clear axes}
  This axis system is another version of |scientic axes|. However, the
  axes and the ticks are completely removed from the actual data,
  making this axis system especially useful for scatter plots, but
  also for most other scientific plots.
      
\begin{codeexample}[]
\begin{tikzpicture}
  \datavisualization [scientific clear axes, visualize as smooth line] 
    data [format=function] {
      var x : interval [-12:12];
      func y = \value x*\value x*\value x;
    };
\end{tikzpicture}
\end{codeexample}

  The distance of the axes from the actual plot is given by the
  padding of the axes.
\end{key}



\begin{key}{/tikz/data visualization/school book axes}
  This axis system is intended to ``look like'' the coordinate systems
  often used in school books: The axes are drawn in such a way that
  they intersect to origin. Furthermore, no automatic
  scaling is done to ensure that the lenghts of units are the same in
  all directions.

  This axis system must be used with care -- it is nearly always
  necessary to specify the desired unit length by hand using the
  option |unit length|. If the magnitudes of the units on the two axes
  differ, different unit lengths typically need to be specified for
  the different axes.

  Finally, if the data is ``far removed'' from the origin, this
  axis system will also ``look bad.''

\begin{codeexample}[]
\begin{tikzpicture}
  \datavisualization [school book axes, visualize as smooth line] 
    data [format=function] {
      var x : interval [-1.3:1.3];
      func y = \value x*\value x*\value x;
    };
\end{tikzpicture}
\end{codeexample}

  The stepping of the ticks is one unit by default. Using keys like
  |ticks=some| may help to give better steppings.
\end{key}




\subsection{Reference: Underlying Cartesian Axis Systems}

The axis systems described in the following are typically not used
directly by the user. The systems setup \emph{directions} for several
axes in some sensible way, but they do not actually draw anything on
these axes. For instance, the |xy Cartesian| creates two axes called
|x axis| and |y axis| and makes the $x$-axis point right and the
$y$-axis point up. In contrast, an axis system like |scientific axes|
uses the axis system |xy Cartesian| internally and then proceeds to
setup a lot of keys so that the axis lines are drawn,
ticks and grid lines are drawn, and labels are placed at the correct
positions. 

\begin{key}{/tikz/data visualization/xy Cartesian}
  This axis system creates two axes called |x axis| and |y axis| that
  point right and up, respectively. By default, one unit is mapped to
  one cm.

\begin{codeexample}[]
\begin{tikzpicture}
  \datavisualization [xy Cartesian, visualize as smooth line] 
    data [format=function] {
      var x : interval [-1.25:1.25];
      func y = \value x*\value x*\value x;
    };
\end{tikzpicture}
\end{codeexample}
  
  
  \begin{key}{/tikz/data visualization/xy axes=\meta{options}}
    This key applies the \meta{options} both to the |x axis| and the
    |y axis|. 
  \end{key}

\end{key}


\begin{key}{/tikz/data visualization/xyz Cartesian cabinet}
  This axis system works like |xy Cartesian|, only it
  \emph{additionally} creates an axis called |z axis| that points left
  and down. For this axis, one unit corresponds to $\frac{1}{2}\sin
  45^\circ\mathrm{cm}$. This is also known as a cabinet projection.
  
  \begin{key}{/tikz/data visualization/xyz axes=\meta{options}}
    This key applies the \meta{options} both to the |x axis| and the
    |y axis|.   
  \end{key}

\end{key}


\begin{key}{/tikz/data visualization/uv Cartesian}
  This axis system works like |xy Cartesian|, but it introduces two
  axes called |u axis| and |v axis| rather than the |x axis| and the
  |y axis|. The idea is that in addition to a ``major''
  $xy$-coordinate system this is also a ``smaller'' or ``minor''
  coordinate system in use for depicting, say, small vectors with
  respect to this second coordinate system.
  
  \begin{key}{/tikz/data visualization/uv axes=\meta{options}}
    Applies the \meta{options} to both the |u axis| and the |y axis|.
  \end{key}

\end{key}

\begin{key}{/tikz/data visualization/uvw Cartesian cabinet}
  Like |xyz Cartesian cabinet|, but for the $uvw$-system.
  
  \begin{key}{/tikz/data visualization/uvw axes=\meta{options}}
    Like |xyz axes|.
  \end{key}
\end{key}



\subsection{Reference: Axes Systems Label Placement}

The axes of an axis system will typically be labeled with some
indication of what the axes represent.


\subsection{Reference: Tick Placement Strategies}

\subsection{Advanced: Creating New Axes}
